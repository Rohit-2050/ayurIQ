<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ayurvedic Diet Generator</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:2rem; }
    h2 { text-align:center; }
    .box { background:#fff; padding:1rem; border-radius:8px; max-width:600px; margin:1rem auto; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    select, button { padding:0.5rem; margin:0.5rem 0; width:100%; }
    table { width:100%; border-collapse: collapse; margin-top:1rem; }
    th, td { padding:0.5rem; border:1px solid #ccc; text-align:left; }
  </style>
</head>
<body>
  <h2>Ayurvedic Diet Management</h2>
  <div class="box">
    <label>Select Disease:</label>
    <select id="disease">
      <option value="Hair Fall">Hair Fall</option>
      <option value="Digestive disorder">Digestive disorder</option>
      <option value="Skin problem">Skin problem</option>
      <option value="Diabetes">Diabetes</option>
      <option value="Obesity">Obesity</option>
      <option value="Hyper Tension">Hyper Tension</option>
      <option value="Arthritis">Arthritis</option>
      <option value="Respiratory problem">Respiratory problem</option>
      <option value="PCOS/PCOD">PCOS/PCOD</option>
      <option value="Stress/Anxiety">Stress/Anxiety</option>
      <option value="Liver Disorder">Liver Disorder</option>
    </select>
    <button onclick="generateDiet()">Generate Diet</button>

    <div id="result"></div>
  </div>

  <script>
    async function generateDiet() {
      const disease = document.getElementById("disease").value;
      const res = await fetch("http://127.0.0.1:5000/generate_diet", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ disease })
      });
      const data = await res.json();

      let html = `<h3>Recommended Foods for ${data.disease}</h3>`;
html += "<table><tr><th>Name</th><th>Rasa</th><th>Region</th><th>Dosha Effect</th></tr>";
data.recommended_foods.forEach(f => {
  html += `<tr>
             <td>${f.food_name}</td>
             <td>${f.rasa || "-"}</td>
             <td>${f.cuisine_region || "-"}</td>
             <td>${f.dosha_effect || "-"}</td>
           </tr>`;
});
html += "</table>";
document.getElementById("result").innerHTML = html;

    }
  </script>
</body>
</html>
